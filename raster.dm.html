
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Raster Analysis: Description of Modules &#8212; PyGMI 3.2.6.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="raster.ref.html" />
    <link rel="prev" title="Raster Analysis: Context Menu" href="raster.cm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
<style>
.parent {
  zindex: 1;
}
.image1 {
  float: left;
  zindex: 2;
  padding: 15px;
}
.image2 {
  float: right;
  zindex: 3;
  padding: 15px;
}

</style>
<div style="position: relative;
            left: 0;
            top: 0;">

<a href="index.html">
<img src="_static/logo.png" class="image1"/>
</a>

<a href="http://www.geoscience.org.za">
<img src="_static/cgslogo.png" class="image2"/>
</a>

<a href="index.html">
<img src="_static/swirlcgs.png" class="parent" width="100%" height="100px"/>
</a>

</div>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="raster.cm.html" title="Previous document">Raster Analysis: Context Menu</a>
        </li>
        <li>
          <a href="raster.ref.html" title="Next document">References</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="raster-analysis-description-of-modules">
<h1>Raster Analysis: Description of Modules<a class="headerlink" href="#raster-analysis-description-of-modules" title="Permalink to this heading">¶</a></h1>
<section id="import-raster">
<h2>Import Raster<a class="headerlink" href="#import-raster" title="Permalink to this heading">¶</a></h2>
<p>This module imports raster data using the GDAL library, including ENVI, ER Mapper, GeoTIFF, Geosoft GXF and Surfer. It is possible to connect multiple imports to another module, thereby creating a ‘merged’ dataset. Please note that satellite image imports take place in the remote sensing menu.</p>
</section>
<section id="import-rgb-image">
<h2>Import RGB Image<a class="headerlink" href="#import-rgb-image" title="Permalink to this heading">¶</a></h2>
<p>This module will import 3 band tiff images for display in PyGMI as an RGB image.</p>
</section>
<section id="equation-editor">
<h2>Equation Editor<a class="headerlink" href="#equation-editor" title="Permalink to this heading">¶</a></h2>
<p>The equation editor allows for script operations to be performed on either single or multiple bands of data. It makes use of the powerful <strong>numexpr</strong> library for the scripting.</p>
<p>Use the variables iall, i1, i2 etc in formulas. The combo box on the interface shows which band is assigned to each variable.</p>
<img alt="_images/rastereq.png" src="_images/rastereq.png" />
<section id="examples">
<h3>Examples:<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<p>Sum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>Threshold between values 1 and 98, substituting -999 as a nodata value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">where</span><span class="p">((</span><span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">i1</span> <span class="o">&lt;</span> <span class="mi">98</span><span class="p">)</span> <span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="o">-</span><span class="mi">999</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="commands">
<h3>Commands:<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Logical operators: &amp;, | , ~</p></li>
<li><p>Comparison operators: &lt;;, &lt;=, ==, !=, &gt;=, &gt;</p></li>
<li><p>Arithmetic operators: +, -, <em>, /, *</em>, %, &lt;&lt;, &gt;&gt;</p></li>
<li><p>where(bool, number1, number2) : number1 if the bool condition is true,
number2 otherwise.</p></li>
<li><p>sin, cos, tan, arcsin, arccos, arctan, sinh, cosh, tanh, arctan2, arcsinh,</p></li>
<li><p>arccosh, arctanh</p></li>
<li><p>log, log10, log1p, exp, expm1</p></li>
<li><p>sqrt, abs</p></li>
</ul>
</section>
</section>
<section id="smoothing-filters">
<h2>Smoothing Filters<a class="headerlink" href="#smoothing-filters" title="Permalink to this heading">¶</a></h2>
<p>The smoothing filters work by passing a matrix which contains the filter over your raster dataset. The filter type, filter shape and the filter size can all be specified.</p>
<img alt="_images/rastersmooth.png" src="_images/rastersmooth.png" />
<section id="filter-type">
<h3>Filter Type<a class="headerlink" href="#filter-type" title="Permalink to this heading">¶</a></h3>
<p>This can be either 2D median or 2D mean. Note that your choice of filter may affect the number of filter shape options you have.</p>
</section>
<section id="filter-shape">
<h3>Filter Shape<a class="headerlink" href="#filter-shape" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Box window - this is a regular square matrix with constant values applied to your dataset.</p></li>
<li><p>Disk window - this applies a disk of constant values to your dataset</p></li>
<li><p>Gaussian Window - this applies a Gaussian shaped filter to your dataset. This option is only present for the 2D mean filter type.</p></li>
</ul>
</section>
<section id="filter-size">
<h3>Filter Size<a class="headerlink" href="#filter-size" title="Permalink to this heading">¶</a></h3>
<p>The options here are dependant on the option chosen in filter shape. They are as follows:</p>
<ul class="simple">
<li><p>X and Y for the Box window - this is the number of rows and columns which will make up the box window</p></li>
<li><p>Radius in samples for the Disk window - this creates a disk of the specified radius. The disk will have 2*radius rows and columns</p></li>
<li><p>Standard Deviation for the Gaussian Window - this creates the Gaussian box window where the values have the standard deviation specified.</p></li>
</ul>
</section>
</section>
<section id="automatic-gain-control">
<h2>Automatic Gain Control<a class="headerlink" href="#automatic-gain-control" title="Permalink to this heading">¶</a></h2>
<p>This calculates the AGC relating to your data.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Window Size - This is an odd number specifying the size of window (in units of pixels in both x and y directions) to pass over your data.</p></li>
<li><p>Mean - Calculates and AGC using mean values.</p></li>
<li><p>Median - Calculates and AGC using median values.</p></li>
<li><p>RMS - Calculates and AGC using rms values.</p></li>
</ul>
<img alt="_images/rasteragc.png" src="_images/rasteragc.png" />
</section>
<section id="normalisation-scaling">
<h2>Normalisation/Scaling<a class="headerlink" href="#normalisation-scaling" title="Permalink to this heading">¶</a></h2>
<p>Normalisation and scaling are the process of scaling your data to some predetermined range. It is often between 0 and 1, but can be according to a model. Normalisation and scaling are often used when comparing different types of data in routines such as cluster analysis.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Interval - This simply stretches the data values between 0 and 1.</p></li>
<li><p>Mean - This sets the mean of the dataset to 0, and the standard deviation of the dataset to +/- 1</p></li>
<li><p>Median - This sets the median of the dataset to 0, and the median absolute deviation of the dataset to +/- 1</p></li>
<li><p>8-bit histogram equalisation - this seeks to distribute the data equally across 255 values.</p></li>
</ul>
<img alt="_images/rasternorm.png" src="_images/rasternorm.png" />
</section>
<section id="gradient-calculation">
<h2>Gradient Calculation<a class="headerlink" href="#gradient-calculation" title="Permalink to this heading">¶</a></h2>
<p>The gradient calculation calculates the derivative of the data in the azimuth specified. It allows for the calculation of a conventional horizontal derivative, a derivative ratio (ratio of x and y derivatives) and a vertical derivative. Based on (Cooper and Cowan 2007).</p>
<p>Options:</p>
<ul class="simple">
<li><p>Azimuth - Available for both calculations. This is the direction of the derivative, in the plane of the data.</p></li>
<li><p>Strength Factor - This is the strength of the derivative ratio. A value of 1 is recommended as a starting point.</p></li>
</ul>
<img alt="_images/rastergrad.png" src="_images/rastergrad.png" />
</section>
<section id="visibility-calculation">
<h2>Visibility Calculation<a class="headerlink" href="#visibility-calculation" title="Permalink to this heading">¶</a></h2>
<p>This calculates various visibility measures relating to your data (Cooper 2005). The measures are Total Visibility, Visibility Variation and Visibility Vector Resultant.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Window Size - This is an odd number specifying the size of window to pass over your data. The visibility is calculated for each window.</p></li>
<li><p>Viewing Height - This is the height of the observer above the surface.</p></li>
</ul>
<img alt="_images/rastervis.png" src="_images/rastervis.png" />
</section>
<section id="continuation">
<h2>Continuation<a class="headerlink" href="#continuation" title="Permalink to this heading">¶</a></h2>
<p>This is an upward and downward continuation for Magnetic and Gravity data. Upward continuation is performed using the standard FFT transform, while downward continuation used a Taylor expansion for extra stability.</p>
<p>The input is a raster dataset.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Band to Continue - This should be magnetic or gravity data.</p></li>
<li><p>Continuation type - This can be upward or downward.</p></li>
<li><p>Continuation distance - a positive number denoting the continuation distance.</p></li>
</ul>
<img alt="_images/rastercont.png" src="_images/rastercont.png" />
</section>
<section id="layer-stack-and-resampling">
<h2>Layer Stack and Resampling<a class="headerlink" href="#layer-stack-and-resampling" title="Permalink to this heading">¶</a></h2>
<p>This will allow datasets to be merged and resampled to a common cell size. It can also be used for a single dataset to be resampled. The resulting rows and columns of the new grid are displayed.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Cell size - This represents the size of a square raster grid cell, in the units of the grid (normally meters).</p></li>
<li><p>Common mask for all bands - This option forces the nodata areas to be the same on all bands.</p></li>
</ul>
<img alt="_images/layerstack.png" src="_images/layerstack.png" />
</section>
<section id="dataset-mosaic">
<h2>Dataset Mosaic<a class="headerlink" href="#dataset-mosaic" title="Permalink to this heading">¶</a></h2>
<p>This will allow datasets to be mosaiced. The input is a directory which contains ONLY data to be mosaiced.</p>
<p>If all files to be mosaiced have the same number of bands, in the same order (band name is not checked) then a fast mosaic will result. This is the default. Alternatively, the user can mosaic files with different numbers of bands, and only bands with common names will be mosaiced. This option is slower. If files being mosaiced have z values which are offset, the user can select to shift the bands to their respective median value prior to mosaic to minimise this. In this case a slower mosaic will result.</p>
<p>General Options:</p>
<ul class="simple">
<li><p>Batch directory - location of files to be mosaiced.</p></li>
<li><p>Shapefile for boundary - This is an optional location for a shapefile to be used to cut the merge to a specific boundary.</p></li>
<li><p>Mosaic by band labels, since band order may differ, or input files have different numbers of bands. - checked by default.</p></li>
<li><p>Shift bands to median value before mosaic. May allow for cleaner mosaic if datasets are offset - unchecked by default.</p></li>
<li><p>Save each band separately in a mosaic directory - this is useful when the resultant mosaic is too large.</p></li>
</ul>
<p>Mosaic Method:</p>
<ul class="simple">
<li><p>Median - shift last file to median overlap value and copy over first file at overlap.</p></li>
<li><p>First - copy first file over last file at overlap.</p></li>
<li><p>Last - copy last file over first file at overlap.</p></li>
<li><p>Min - copy pixel wise minimum at overlap.</p></li>
<li><p>Max - copy pixel wise maximum at overlap.</p></li>
</ul>
</section>
<section id="dataset-reprojection">
<h2>Dataset Reprojection<a class="headerlink" href="#dataset-reprojection" title="Permalink to this heading">¶</a></h2>
<p>This is a versatile routine allowing for the reprojecting of a dataset between two projections. All projections are obtained from EPSG codes.</p>
<p>Options:</p>
<p>The options are the same for both input and output projections. The choice of projection is obtained through drop boxes.</p>
<img alt="_images/rasterreproj.png" src="_images/rasterreproj.png" />
</section>
<section id="cut-raster-using-polygon">
<h2>Cut Raster Using Polygon<a class="headerlink" href="#cut-raster-using-polygon" title="Permalink to this heading">¶</a></h2>
<p>This tool provides a quick way to cut out raster data, using a shape file as the boundary for the cut, and a larger raster file to cut from. You will need to prepare the shape file in another package first.</p>
</section>
<section id="extract-profile-from-raster">
<h2>Extract Profile from Raster<a class="headerlink" href="#extract-profile-from-raster" title="Permalink to this heading">¶</a></h2>
<p>This tool provides a quick way to extract a 1D profile from a raster dataset, using a shape file for the coordinates of the profile. You will need to prepare the shape file in another package first. Profiles can be exported or displayed via the context menu.</p>
</section>
<section id="raster-data-display">
<h2>Raster Data Display<a class="headerlink" href="#raster-data-display" title="Permalink to this heading">¶</a></h2>
<p>This allows for the display of data in a variety of ways common to most image processing packages. The resultant dataset can then be exported as a GeoTIFF for vector interpretation in a GIS package. Each display type is discussed below.</p>
<img alt="_images/rasterinterp.png" src="_images/rasterinterp.png" />
<section id="display-type">
<h3>Display Type<a class="headerlink" href="#display-type" title="Permalink to this heading">¶</a></h3>
<section id="single-colour-map">
<h4><em>Single Colour Map</em><a class="headerlink" href="#single-colour-map" title="Permalink to this heading">¶</a></h4>
<p>This displays a single band of data by mapping its values to a colour map or colour table.</p>
</section>
<section id="contour">
<h4><em>Contour</em><a class="headerlink" href="#contour" title="Permalink to this heading">¶</a></h4>
<p>This has the same options as the single colour map, but displays the data using contours instead.</p>
</section>
<section id="rgb-ternary">
<h4><em>RGB Ternary</em><a class="headerlink" href="#rgb-ternary" title="Permalink to this heading">¶</a></h4>
<p>This option displays three bands, one red, one green and one blue. Because of this, no colour map can be chosen, and now three bands must be chosen. Histogram stretch is the same as for previous sections.</p>
</section>
<section id="cmy-ternary">
<h4><em>CMY Ternary</em><a class="headerlink" href="#cmy-ternary" title="Permalink to this heading">¶</a></h4>
<p>This option displays three bands, one cyan, one magenta and one yellow. As before, no colour map can be chosen, and now three bands must be chosen. Histogram stretch is the same as for previous sections.</p>
</section>
</section>
<section id="data-bands">
<h3>Data Bands<a class="headerlink" href="#data-bands" title="Permalink to this heading">¶</a></h3>
<p>The bands to be used in the main display are selected here.</p>
</section>
<section id="histogram-stretch">
<h3>Histogram Stretch<a class="headerlink" href="#histogram-stretch" title="Permalink to this heading">¶</a></h3>
<p>The choice of how to map the data is chosen here. The options are:</p>
<ul class="simple">
<li><p>Linear with percent clip.</p></li>
<li><p>Histogram Equalisation (gives all colours the same amount of data samples, so that maximum change is seen in the map).</p></li>
<li><p>Full histogram with clip lines (this is an option to see the full histogram, even after percent clipping.</p></li>
</ul>
</section>
<section id="colour-bar">
<h3>Colour Bar<a class="headerlink" href="#colour-bar" title="Permalink to this heading">¶</a></h3>
<p>Here you can choose the colour bar to map the colours with.</p>
</section>
<section id="sunshading">
<h3>Sunshading<a class="headerlink" href="#sunshading" title="Permalink to this heading">¶</a></h3>
<p>This option applies a sunshade algorithm to the data. The shader used is Blinn’s formula (Horn, 1981)</p>
<ul class="simple">
<li><p>Sunshade data - this is the band to use for sunshading</p></li>
<li><p>Sun Angle - This is chosen by clicking on a small circular map. A blue dot denotes the sun’s azimuth and elevation.</p></li>
<li><p>Sunshade Detail - controls how much sunshade detail is present. Decrease this to increase the detail.</p></li>
<li><p>Light Reflectance - controls the light reflectance of the surface.</p></li>
</ul>
</section>
<section id="save-geotiff">
<h3>Save GeoTIFF<a class="headerlink" href="#save-geotiff" title="Permalink to this heading">¶</a></h3>
<p>Use this to save your final maps as a GeoTIFF. This will also save two colour bars (one vertical and one horizontal) or a ternary colour bar. The size of the colour bar relates to how big you wish it to be on the paper map.</p>
</section>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="raster.cm.html" title="Previous document">Raster Analysis: Context Menu</a>
        </li>
        <li>
          <a href="raster.ref.html" title="Next document">References</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyGMI</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Patrick-Cole&repo=pygmi&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="wiki.html">PyGMI Wiki</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="qstart.html">Quick Start to use PyGMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="file.html">File Menu</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="raster.html">Raster Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="vector.html">Vector Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster.html">Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="em.html">Electromagnetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="gravity.html">Gravity</a></li>
<li class="toctree-l2"><a class="reference internal" href="mag.html">Magnetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="mt.html">Magnetotellurics</a></li>
<li class="toctree-l2"><a class="reference internal" href="pfmod.html">Potential Field Modelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="rsense.html">Remote Sensing</a></li>
<li class="toctree-l2"><a class="reference internal" href="seis.html">Seismology</a></li>
<li class="toctree-l2"><a class="reference internal" href="videos.html">Videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">PyGMI API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pygmi.html">pygmi package</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">quickstart module</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/Patrick-Cole/pygmi/releases">Download PyGMI</a></li>
    
    <li class="toctree-l1"><a href="http://www.geoscience.org.za">Council for Geoscience</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="wiki.html">PyGMI Wiki</a><ul>
  <li><a href="raster.html">Raster Data Analysis</a><ul>
      <li>Previous: <a href="raster.cm.html" title="previous chapter">Raster Analysis: Context Menu</a></li>
      <li>Next: <a href="raster.ref.html" title="next chapter">References</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022 Council for Geoscience.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/raster.dm.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>