
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raster Analysis: Description of Modules &#8212; PyGMI 3 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="raster.ref.html" />
    <link rel="prev" title="Raster Analysis: Context Menu" href="raster.cm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
<style>
.parent {
  zindex: 1;
}
.image1 {
  float: left;
  zindex: 2;
  padding: 15px;
}
.image2 {
  float: right;
  zindex: 3;
  padding: 15px;
}

</style>
<div style="position: relative;
            left: 0;
            top: 0;">

<a href="index.html">
<img src="_static/logo.png" class="image1"/>
</a>

<a href="http://www.geoscience.org.za">
<img src="_static/cgslogo.png" class="image2"/>
</a>

<a href="index.html">
<img src="_static/swirlcgs.png" class="parent" width="100%" height="100px"/>
</a>

</div>



  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="raster.cm.html" title="Previous document">Raster Analysis: Context Menu</a>
        </li>
        <li>
          <a href="raster.ref.html" title="Next document">References</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="raster-analysis-description-of-modules">
<h1>Raster Analysis: Description of Modules<a class="headerlink" href="#raster-analysis-description-of-modules" title="Permalink to this headline">¶</a></h1>
<div class="section" id="import-raster">
<h2>Import Raster<a class="headerlink" href="#import-raster" title="Permalink to this headline">¶</a></h2>
<p>This module imports raster data using the GDAL library, including ENVI, ER Mapper, Geotiff, Geosoft GXF and Surfer. It is possible to connect multiple imports to another module, thereby creating a ‘merged’ dataset.</p>
</div>
<div class="section" id="equation-editor">
<h2>Equation Editor<a class="headerlink" href="#equation-editor" title="Permalink to this headline">¶</a></h2>
<p>The equation editor allows for script operations to be performed on either single or multiple bands of data. It makes use of the powerful <strong>numexpr</strong> library for the scripting.</p>
<p>Use the variables iall, i1, i2 etc in formulas. The combobox on the interface shows which band is assigned to each variable.</p>
<img alt="_images/rastereq.png" src="_images/rastereq.png" />
<div class="section" id="examples">
<h3>Examples:<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Sum:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i1</span> <span class="o">+</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>Threshold between values 1 and 98, substituting -999 as a nodata value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">where</span><span class="p">((</span><span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">i1</span> <span class="o">&lt;</span> <span class="mi">98</span><span class="p">)</span> <span class="p">,</span> <span class="n">i1</span><span class="p">,</span> <span class="o">-</span><span class="mi">999</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="commands">
<h3>Commands:<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Logical operators: &amp;, | , ~</p></li>
<li><p>Comparison operators: &lt;;, &lt;=, ==, !=, &gt;=, &gt;</p></li>
<li><p>Arithmetic operators: +, -, <em>, /, *</em>, %, &lt;&lt;, &gt;&gt;</p></li>
<li><p>where(bool, number1, number2) : number1 if the bool condition is true,
number2 otherwise.</p></li>
<li><p>sin, cos, tan, arcsin, arccos, arctan, sinh, cosh, tanh, arctan2, arcsinh,</p></li>
<li><p>arccosh, arctanh</p></li>
<li><p>log, log10, log1p, exp, expm1</p></li>
<li><p>sqrt, abs</p></li>
</ul>
</div>
</div>
<div class="section" id="smoothing-filters">
<h2>Smoothing Filters<a class="headerlink" href="#smoothing-filters" title="Permalink to this headline">¶</a></h2>
<p>The smoothing filters work by passing a matrix which contains the filter over your raster dataset. The filter type, filter shape and the filter size can all be specified.</p>
<img alt="_images/rastersmooth.png" src="_images/rastersmooth.png" />
<div class="section" id="filter-type">
<h3>Filter Type<a class="headerlink" href="#filter-type" title="Permalink to this headline">¶</a></h3>
<p>This can be either 2D median or 2D mean. Note that your choice of filter may affect the number of filter shape options you have.</p>
</div>
<div class="section" id="filter-shape">
<h3>Filter Shape<a class="headerlink" href="#filter-shape" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Box window - this is a regular square matrix with constant values applied to your dataset.</p></li>
<li><p>Disk window - this applies a disk of constant values to your dataset</p></li>
<li><p>Gaussian Window - this applies a gaussian shaped filter to your dataset. This option is only present for the 2D mean filter type.</p></li>
</ul>
</div>
<div class="section" id="filter-size">
<h3>Filter Size<a class="headerlink" href="#filter-size" title="Permalink to this headline">¶</a></h3>
<p>The options here are dependant on the option chosen in filter shape. They are as follows:</p>
<ul class="simple">
<li><p>X and Y for the Box window - this is the number of rows and columns which will make up the box window</p></li>
<li><p>Radius in samples for the Disk window - this creates a disk of the specified radius. The disk will have 2*radius rows and columns</p></li>
<li><p>Standard Deviation for the Gaussian Window - this creates the Gaussian box window where the values have the standard deviation specified.</p></li>
</ul>
</div>
</div>
<div class="section" id="normalisation-scaling">
<h2>Normalisation/Scaling<a class="headerlink" href="#normalisation-scaling" title="Permalink to this headline">¶</a></h2>
<p>Normalisation and scaling are the process of scaling your data to some predetermined range. It is often between 0 and 1, but can be according to a model. Normalisation and scaling are often used when comparing different types of data in routines such as cluster analysis.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Interval - This simply stretches the data values between 0 and 1.</p></li>
<li><p>Mean - This sets the mean of the dataset to 0, and the standard deviation of the dataset to +/- 1</p></li>
<li><p>Median - This sets the median of the dataset to 0, and the median absolute deviation of the dataset to +/- 1</p></li>
<li><p>8-bit histogram equalisation - this seeks to distribute the data equally across 255 values.</p></li>
</ul>
<img alt="_images/rasternorm.png" src="_images/rasternorm.png" />
</div>
<div class="section" id="gradient-calculation">
<h2>Gradient Calculation<a class="headerlink" href="#gradient-calculation" title="Permalink to this headline">¶</a></h2>
<p>The gradient calculation calculates the devrivative of the data in the azimuth specified. It allows for the calcutaion of a conventional horizontal derivative, a derivative ratio (ratio of x and y derivatives) and a vertical derivative. Based on (Cooper and Cowan 2007).</p>
<p>Options:</p>
<ul class="simple">
<li><p>Azimuth - Available for both calculations. This is the direction of the derivative, in the plane of the data.</p></li>
<li><p>Strength Factor - This is the strength of the derivative ratio. A value of 1 is recommended as a starting point.</p></li>
</ul>
<img alt="_images/rastergrad.png" src="_images/rastergrad.png" />
</div>
<div class="section" id="visibility-calculation">
<h2>Visibility Calculation<a class="headerlink" href="#visibility-calculation" title="Permalink to this headline">¶</a></h2>
<p>This calculates various visibility measures relating to your data (Cooper 2005). The measures are Total Visibility, Visibility Variation and Visibility Vector Resultant.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Window Size - This is an odd number specifying the size of window to pass over your data. The visibility is calculated for each window.</p></li>
<li><p>Viewing Height - This is the height of the observer above the surface.</p></li>
</ul>
<img alt="_images/rastervis.png" src="_images/rastervis.png" />
</div>
<div class="section" id="continuation">
<h2>Continuation<a class="headerlink" href="#continuation" title="Permalink to this headline">¶</a></h2>
<p>This is an upward and downward continuation for Magnetic and Gravity data. Upward continuation is performed using the standard FFT transform, while downward continuation used a Taylor expansion for extra stability.</p>
<p>The input is a raster dataset.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Band to Continue - This should be magnetic or gravity data.</p></li>
<li><p>Continuation type - This can be upward or downward.</p></li>
<li><p>Continuation distance - a positive number denoting the continuation distance.</p></li>
</ul>
<img alt="_images/rastercont.png" src="_images/rastercont.png" />
</div>
<div class="section" id="data-merge-and-resampling">
<h2>Data Merge and Resampling<a class="headerlink" href="#data-merge-and-resampling" title="Permalink to this headline">¶</a></h2>
<p>This will allow datasets to be merged and resampled to a common cell size. It can also be used for a single dataset to be resampled. The resulting rows and columns of the new grid are displayed.</p>
<p>Options:</p>
<ul class="simple">
<li><p>Cell size - This represents the size of a square raster grid cell, in the units of the grid (normally meters).</p></li>
</ul>
<img alt="_images/rastermerge.png" src="_images/rastermerge.png" />
</div>
<div class="section" id="dataset-reprojection">
<h2>Dataset Reprojection<a class="headerlink" href="#dataset-reprojection" title="Permalink to this headline">¶</a></h2>
<p>This is a versatile routine allowing for the reprojecting of a dataset between two projections. All projections are obtained from EPSG codes.</p>
<p>Options:</p>
<p>The options are the same for both input and output projections. The choice of projection is obtained through a drop box. The first part of the entry on the drop box shows the datum, and the last part shows the projection.</p>
<p>Should you wish to project to or from degrees, the entry will be Datum / Geodetic Geographic, where Datum is your local datum of choice.</p>
<img alt="_images/rasterreproj.png" src="_images/rasterreproj.png" />
</div>
<div class="section" id="cut-raster-using-polygon">
<h2>Cut Raster Using Polygon<a class="headerlink" href="#cut-raster-using-polygon" title="Permalink to this headline">¶</a></h2>
<p>This tool provides a quick way to cut out raster data, using a shape file as the boundary for the cut, and a larger raster file to cut from. You will need to prepare the shape file in another package first.</p>
</div>
<div class="section" id="extract-profile-from-raster">
<h2>Extract Profile from Raster<a class="headerlink" href="#extract-profile-from-raster" title="Permalink to this headline">¶</a></h2>
<p>This tool provides a quick way to extract a 1D profile from a raster dataset, using a shape file for the coordinates of the profile. You will need to prepare the shape file in another package first. Profiles can be exported or displayed via the context menu.</p>
</div>
<div class="section" id="raster-data-interpretation">
<h2>Raster Data Interpretation<a class="headerlink" href="#raster-data-interpretation" title="Permalink to this headline">¶</a></h2>
<p>This allows for the display of data in a variety of ways common to most image processing packages. The resultant dataset can then be exported as a geotiff for vector interpretation in a GIS package. Each display type is discussed below.</p>
<img alt="_images/rasterinterp.png" src="_images/rasterinterp.png" />
<div class="section" id="single-color-map">
<h3>Single Color Map<a class="headerlink" href="#single-color-map" title="Permalink to this headline">¶</a></h3>
<p>This displays a single band of data by mapping its values to a color map or color table.</p>
<ul class="simple">
<li><p>Data bands - the band to be displayed is chosen here.</p></li>
<li><p>Histogram Stretch - The choice of how to map the data is chosen here. The options are ‘Linear’ (data is unchanged), ‘95% linear, 5% compact’ (compacts 5% of the outliers of the data)and ‘Histogram Equalisation’ (gives all colors the same amount of data samples, so that maximum change is seen in the map)</p></li>
<li><p>Color Bar - Here you can choose the color bar to map the colors with.</p></li>
</ul>
</div>
<div class="section" id="contour">
<h3>Contour<a class="headerlink" href="#contour" title="Permalink to this headline">¶</a></h3>
<p>This has the same options as the single color map, but displays the data using contours instead.</p>
</div>
<div class="section" id="rgb-ternary">
<h3>RGB Ternary<a class="headerlink" href="#rgb-ternary" title="Permalink to this headline">¶</a></h3>
<p>This option displays three bands, one red, one green and one blue. Because of this, no color map can be chosen, and now three bands must be chosen. Histogram stretch is the same as for previous sections.</p>
</div>
<div class="section" id="cmy-ternary">
<h3>CMY Ternary<a class="headerlink" href="#cmy-ternary" title="Permalink to this headline">¶</a></h3>
<p>This option displays three bands, one cyan, one magenta and one yellow. As before, no color map can be chosen, and now three bands must be chosen. Histogram stretch is the same as for previous sections.</p>
</div>
<div class="section" id="sunshade">
<h3>Sunshade<a class="headerlink" href="#sunshade" title="Permalink to this headline">¶</a></h3>
<p>This option applies a sunshade algorithm to the data. Two bands are chosen, the first is the color and the second is the sunshade band. A Histogram stretch for each band can be chosen. A color bar can be chosen for the color band. The shader used is Blinn’s formula (Horn, 1981)</p>
<ul class="simple">
<li><p>Sun Angle - This is chosen by clicking on a small circular map. A blue dot denotes the sun’s azimuth and elevation.</p></li>
<li><p>Sunshade Detail - controls how much sunshade detail is present. Decrease this to increase the detail.</p></li>
<li><p>Light Reflectance - controls the light reflectance of the surface.</p></li>
</ul>
</div>
<div class="section" id="save-geotiff">
<h3>Save Geotiff<a class="headerlink" href="#save-geotiff" title="Permalink to this headline">¶</a></h3>
<p>Use this to save your final maps as a Geotiff. This will also save two color bars (one vertical and one horizontal) or a ternary color bar. The size of the color bar relates to how big you wish it to be on the paper map.</p>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="raster.cm.html" title="Previous document">Raster Analysis: Context Menu</a>
        </li>
        <li>
          <a href="raster.ref.html" title="Next document">References</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">PyGMI</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=Patrick-Cole&repo=pygmi&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="wiki.html">PyGMI Wiki</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="qstart.html">Quick Start to use PyGMI</a></li>
<li class="toctree-l2"><a class="reference internal" href="file.html">File Menu</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="raster.html">Raster Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="vector.html">Vector Data Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="bholes.html">Boreholes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster.html">Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="em.html">Electromagnetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="eseis.html">Exploration Sesimics</a></li>
<li class="toctree-l2"><a class="reference internal" href="mag.html">Magnetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="gravity.html">Gravity</a></li>
<li class="toctree-l2"><a class="reference internal" href="mt.html">Magnetotellurics</a></li>
<li class="toctree-l2"><a class="reference internal" href="pfmod.html">Potential Field Modelling</a></li>
<li class="toctree-l2"><a class="reference internal" href="rsense.html">Remote Sensing</a></li>
<li class="toctree-l2"><a class="reference internal" href="seis.html">Seismology</a></li>
<li class="toctree-l2"><a class="reference internal" href="videos.html">Videos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">PyGMI API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pygmi.html">pygmi package</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">quickstart module</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/Patrick-Cole/pygmi/releases">Download PyGMI</a></li>
    
    <li class="toctree-l1"><a href="http://www.geoscience.org.za">Council for Geoscience</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="wiki.html">PyGMI Wiki</a><ul>
  <li><a href="raster.html">Raster Data Analysis</a><ul>
      <li>Previous: <a href="raster.cm.html" title="previous chapter">Raster Analysis: Context Menu</a></li>
      <li>Next: <a href="raster.ref.html" title="next chapter">References</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020 Council for Geoscience.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/raster.dm.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>